<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Invest — Crypto Investment</title>

  <!-- Site styles (keeps same look & feel) -->
  <link rel="stylesheet" href="/css/main1.css">
  <link rel="stylesheet" href="/css/main2.css">
  <!-- QR library (client-side) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body class="app sidebar-mini ">

  <!-- HEADER (same pattern as other root pages) -->
  <header class="app-header">
    <span class="app-sidebar__toggle" aria-label="Toggle sidebar">☰</span>
    <a href="dashboard.html" class="app-header__logo">
      <img src="img/logoo.png" alt="Bank Logo" class="app-header__logo-img" />
    </a>
  </header>

  <main class="app-content">
    <div class="card">
      <div class="card-body">

        <div class="dashboard-card3 transaction-card">
          <h2>Invest in Cryptocurrency</h2>

          <p class="muted" style="margin-bottom:1rem;">
            Grow your portfolio with secure, professionally managed crypto investment options.
            We offer a simple deposit flow and flexible investment terms — deposit the crypto of your choice and confirm once funds are received.
          </p>

          <!-- INVEST FORM -->
   <form id="invest-form" class="mb-3" action="investplan.html" method="GET">
            <div class="row mb-2">
              <div class="col-lg-4">
<label for="tier"><strong>Select Tier</strong></label>
  <select id="tier" class="form-control" required>
    <option value="">Choose a tier</option>
    <option value="bronze">Bronze</option>
    <option value="silver">Silver</option>
    <option value="gold">Gold</option>
    <option value="platinum">Platinum</option>
  </select>

  <!-- Tier range display -->
  <p id="tier-range" class="tier-range"></p>

  <!-- Amount -->
  <label for="amount"><strong>Investment Amount ($)</strong></label>
  <input
    type="number"
    id="amount"
    placeholder="Enter amount"
    class="form-control"
    required
  />
</div>
</div>
                                                                                                        
    <div class="row mb-2">
<div class="col-lg-5">
  <label for="duration"><strong>Investment Duration</strong></label>
  <select id="duration" name="duration" required class="form-control">
    <option value="">Select duration</option>
    <option value="3">3 Months</option>
    <option value="6">6 Months</option>
    <option value="12">12 Months</option>
  </select>
</div>
</div>

           
          
          <!-- CRYPTO PAYMENT METHOD -->
<div class="form-group">

  <label for="crypto">Pay With</label>

  <select id="crypto" name="crypto" required>
    <option value="">Select cryptocurrency</option>
    <option value="BTC">Bitcoin (BTC)</option>
    <option value="ETH">Ethereum (ETH)</option>
    <option value="USDT">Tether (USDT)</option>
    <option value="LTC">Litecoin (LTC)</option>
  </select>

  <small id="crypto-hint" class="hint-text"></small>
</div>
<!-- DEPOSIT DETAILS -->
<div id="deposit-box" class="deposit-box" style="display:none;">
  <p class="deposit-label">Deposit Address</p>

  <div class="deposit-address">
    <span id="deposit-address-text"></span>
    <button type="button" id="copy-address">Copy</button>
  </div>

  <div class="qr-wrapper">
    <img id="qr-code" alt="QR Code" />
  </div>

  <small class="deposit-warning">
    Send only the selected cryptocurrency to this address.
  </small>
</div>


              </div>
            </div>
          </form>

         
        </div>

      </div>
    </div>
  </main>

  <!-- FOOTER (same as other root pages) -->
  <footer class="app-footer">
    <p>© 2026 Credit Union Capitol. All rights reserved.</p>
  </footer>

  <!-- Site scripts (keeps same interactive behaviour) -->
  <script src="/js/script1.js"></script>

  <!-- Page script: address & QR handling (placeholder addresses) -->

 <script>
  const tierSelect = document.getElementById("tier");
  const amountInput = document.getElementById("amount");
  const rangeText = document.getElementById("tier-range");
const durationSelect = document.getElementById("duration");

  const TIERS = {
    bronze: { min: 5000, max: 10000 },
    silver: { min: 10000, max: 25000 },
    gold: { min: 25000, max: 50000 },
    platinum: { min: 100000, max: Infinity }
  };

  /* =========================
     TIER CHANGE (already working)
  ========================= */
  tierSelect.addEventListener("change", () => {
    const tier = tierSelect.value;

    if (!TIERS[tier]) {
      rangeText.textContent = "";
      amountInput.value = "";
      return;
    }

    const { min, max } = TIERS[tier];

    rangeText.textContent =
      max === Infinity
        ? `$${min.toLocaleString()} and above`
        : `$${min.toLocaleString()} – $${max.toLocaleString()}`;

    amountInput.min = min;
    amountInput.max = max === Infinity ? "" : max;
    amountInput.value = min;
  });

  /* =========================
     ✅ STEP 1 GOES HERE
     LIVE AMOUNT VALIDATION
  ========================= */
  amountInput.addEventListener("input", () => {
    const tier = tierSelect.value;
    if (!TIERS[tier]) return;

    const { min, max } = TIERS[tier];
    const value = Number(amountInput.value);

    if (value < min || (max !== Infinity && value > max)) {
      amountInput.setCustomValidity(
        "Amount does not match selected tier"
      );
    } else {
      amountInput.setCustomValidity("");
    }
  });
const DURATIONS = {
  3: 5,    // 5% return
  6: 12,   // 12% return
  12: 25   // 25% return
};
durationSelect.addEventListener("change", () => {
  if (!DURATIONS[durationSelect.value]) {
    durationSelect.setCustomValidity("Please select a valid duration");
  } else {
    durationSelect.setCustomValidity("");
  }
});
/* =========================
   CRYPTO SELECTION
========================= */

const cryptoSelect = document.getElementById("crypto");
const cryptoHint = document.getElementById("crypto-hint");

// Optional: display network info or warning
cryptoSelect.addEventListener("change", () => {
  const crypto = cryptoSelect.value;

  if (!crypto) {
    cryptoHint.textContent = "";
    return;
  }

  const hints = {
    BTC: "Bitcoin network only",
    ETH: "ERC-20 network",
    USDT: "ERC-20 (Ethereum)",
    LTC: "Litecoin network"
  };

  cryptoHint.textContent = hints[crypto] || "";
});
/* =========================
   DEPOSIT ADDRESS + QR
========================= */

const depositBox = document.getElementById("deposit-box");
const addressText = document.getElementById("deposit-address-text");
const qrCodeImg = document.getElementById("qr-code");
const copyBtn = document.getElementById("copy-address");

// Replace with REAL addresses later
const ADDRESSES = {
  BTC: "bc1qexamplebtcaddresshere",
  ETH: "0xExampleEthereumAddressHere",
  USDT: "0xExampleUSDTAddressHere",
  LTC: "ltc1examplelitecoinaddress"
};

cryptoSelect.addEventListener("change", () => {
  const crypto = cryptoSelect.value;

  if (!crypto || !ADDRESSES[crypto]) {
    depositBox.style.display = "none";
    return;
  }

  const address = ADDRESSES[crypto];

  // Show address
  addressText.textContent = address;
  depositBox.style.display = "block";

  // Generate QR using Google Chart API
  const qrData = encodeURIComponent(address);
  qrCodeImg.src = `https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${qrData}`;
});

// Copy button
copyBtn.addEventListener("click", () => {
  navigator.clipboard.writeText(addressText.textContent);
  copyBtn.textContent = "Copied ✓";

  setTimeout(() => {
    copyBtn.textContent = "Copy";
  }, 2000);
});

</script>
</body>
</html>