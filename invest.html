<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Invest — Crypto Investment</title>

  <!-- Site styles (keeps same look & feel) -->
  <link rel="stylesheet" href="/css/main1.css">

  <!-- QR library (client-side) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body class="app sidebar-mini ">

  <!-- HEADER (same pattern as other root pages) -->
  <header class="app-header">
    <span class="app-sidebar__toggle" aria-label="Toggle sidebar">☰</span>
    <a href="dashboard.html" class="app-header__logo">
      <img src="img/logoo.png" alt="Bank Logo" class="app-header__logo-img" />
    </a>
  </header>

  <main class="app-content">
    <div class="card">
      <div class="card-body">

        <div class="dashboard-card3 transaction-card">
          <h2>Invest in Cryptocurrency</h2>

          <p class="muted" style="margin-bottom:1rem;">
            Grow your portfolio with secure, professionally managed crypto investment options.
            We offer a simple deposit flow and flexible investment terms — deposit the crypto of your choice and confirm once funds are received.
          </p>

          <!-- INVEST FORM -->
          <form id="invest-form" class="mb-3" onsubmit="return false;">
            <div class="row mb-2">
              <div class="col-lg-4">
<label for="tier"><strong>Select Tier</strong></label>
  <select id="tier" class="form-control" required>
    <option value="">Choose a tier</option>
    <option value="bronze">Bronze</option>
    <option value="silver">Silver</option>
    <option value="gold">Gold</option>
    <option value="platinum">Platinum</option>
  </select>

  <!-- Tier range display -->
  <p id="tier-range" class="tier-range"></p>

  <!-- Amount -->
  <label for="amount"><strong>Investment Amount ($)</strong></label>
  <input
    type="number"
    id="amount"
    placeholder="Enter amount"
    class="form-control"
    required
  />
</div>
</div>
                                                                                                        
    <div class="row mb-2">
<div class="col-lg-5">
  <label for="duration"><strong>Investment Duration</strong></label>
  <select id="duration" name="duration" required class="form-control">
    <option value="">Select duration</option>
    <option value="3">3 Months</option>
    <option value="6">6 Months</option>
    <option value="12">12 Months</option>
  </select>
</div>
</div>

            <!-- Address & QR -->
            <div class="row mb-2">
              <div class="col-lg-4">
                <label><strong>Deposit Address</strong></label>
              </div>
              <div class="col-lg-8">
                <!-- readonly so user can copy -->
                <input id="deposit-address" class="form-control" readonly value="">
              </div>
            </div>

            <div class="row mb-3">
              <div class="col-lg-4">
                <label><strong>QR Code</strong></label>
              </div>
              <div class="col-lg-8">
                <div id="qrcode" style="padding:8px; background:#fff; display:inline-block;"></div>
                <div style="margin-top:.5rem; color:#6c757d; font-size:.9rem;">
                  Scan to copy the deposit address.
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-4"></div>
              <div class="col-lg-8">
                <!-- Confirm button text required by spec -->
                <button id="confirm-btn" type="button" class="btn btn-primary" style="white-space:normal;">
                  Click after depositing crypto
                </button>
                <a href="dashboard.html" class="btn btn-link" style="margin-left:10px;">Back to Dashboard</a>
              </div>
            </div>
          </form>

         
        </div>

      </div>
    </div>
  </main>

  <!-- FOOTER (same as other root pages) -->
  <footer class="app-footer">
    <p>© 2026 Credit Union Capitol. All rights reserved.</p>
  </footer>

  <!-- Site scripts (keeps same interactive behaviour) -->
  <script src="/js/script1.js"></script>

  <!-- Page script: address & QR handling (placeholder addresses) -->

 <script>
  const tierSelect = document.getElementById("tier");
  const amountInput = document.getElementById("amount");
  const rangeText = document.getElementById("tier-range");
const durationSelect = document.getElementById("duration");

  const TIERS = {
    bronze: { min: 5000, max: 10000 },
    silver: { min: 10000, max: 25000 },
    gold: { min: 25000, max: 50000 },
    platinum: { min: 100000, max: Infinity }
  };

  /* =========================
     TIER CHANGE (already working)
  ========================= */
  tierSelect.addEventListener("change", () => {
    const tier = tierSelect.value;

    if (!TIERS[tier]) {
      rangeText.textContent = "";
      amountInput.value = "";
      return;
    }

    const { min, max } = TIERS[tier];

    rangeText.textContent =
      max === Infinity
        ? `$${min.toLocaleString()} and above`
        : `$${min.toLocaleString()} – $${max.toLocaleString()}`;

    amountInput.min = min;
    amountInput.max = max === Infinity ? "" : max;
    amountInput.value = min;
  });

  /* =========================
     ✅ STEP 1 GOES HERE
     LIVE AMOUNT VALIDATION
  ========================= */
  amountInput.addEventListener("input", () => {
    const tier = tierSelect.value;
    if (!TIERS[tier]) return;

    const { min, max } = TIERS[tier];
    const value = Number(amountInput.value);

    if (value < min || (max !== Infinity && value > max)) {
      amountInput.setCustomValidity(
        "Amount does not match selected tier"
      );
    } else {
      amountInput.setCustomValidity("");
    }
  });
const DURATIONS = {
  3: 5,    // 5% return
  6: 12,   // 12% return
  12: 25   // 25% return
};
durationSelect.addEventListener("change", () => {
  if (!DURATIONS[durationSelect.value]) {
    durationSelect.setCustomValidity("Please select a valid duration");
  } else {
    durationSelect.setCustomValidity("");
  }
});


</script>
</body>
</html>